(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{56:function(e,t,a){e.exports=a(95)},61:function(e,t,a){},90:function(e,t,a){},95:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(25),c=a.n(o),s=(a(61),a(7)),i=a(8),l=a(10),u=a(9),p=a(11),h=a(19),m=a(12),d=a(99),E=a(6),f=a.n(E),g=function(e,t){return f.a.post("/api/auth/login",{username:e,password:t}).then(function(e){return e.data})},b=function(e,t){return f.a.post("/api/auth/signup",{username:e,password:t}).then(function(e){return e.data})},j=function(e){f.a.post("/api/auth/logout").then(function(e){return e.data}).then(function(){e.setUser(null)})},v=function(e){return r.a.createElement(d.a,{className:"nav justify-content-end",bg:"primary"},r.a.createElement(d.a.Brand,null,r.a.createElement(m.b,{to:"/"},"Home")),e.user?r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a.Brand,null,r.a.createElement(m.b,{to:"/projects"},"Projects")),r.a.createElement(d.a.Brand,null,r.a.createElement(m.b,{onClick:function(){return j(e)},to:"/"},"Logout"))):r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a.Brand,null,r.a.createElement(m.b,{to:"/signup"},"Signup")),r.a.createElement(d.a.Brand,null,r.a.createElement(m.b,{to:"/login"},"Login"))))},y=a(55),O=function(e){var t=e.component,a=e.user,n=e.path,o=e.redirectPath,c=void 0===o?"/":o,s=Object(y.a)(e,["component","user","path","redirectPath"]);return r.a.createElement(h.b,{path:n,render:function(e){return a?r.a.createElement(t,Object.assign({},e,s,{user:a})):r.a.createElement(h.a,{to:c})}})},C=(a(89),a(90),function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Click ",r.a.createElement(m.b,{to:"/projects"},"here")," to see the projects (need to be signed in)"))}),k=a(17),w=a(98),S=a(97),D=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={title:"",description:""},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(k.a)({},n,r))},a.handleSubmit=function(e){e.preventDefault(),f.a.post("/api/projects",{title:a.state.title,description:a.state.description}).then(function(){a.props.refreshList(),a.setState({title:"",description:""})}).catch(function(e){console.log(e)})},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(w.a,{onSubmit:this.handleSubmit},r.a.createElement(w.a.Group,null,r.a.createElement(w.a.Label,{htmlFor:"title"},"Title: "),r.a.createElement(w.a.Control,{type:"text",onChange:this.handleChange,id:"title",name:"title",value:this.state.title})),r.a.createElement(w.a.Group,null,r.a.createElement(w.a.Label,{htmlFor:"description"},"Description: "),r.a.createElement(w.a.Control,{onChange:this.handleChange,type:"text",name:"description",id:"description",value:this.state.description})),r.a.createElement(S.a,{type:"submit"},"Add Project"))}}]),t}(n.Component),F=function(e){return r.a.createElement("div",null,e.projects.length>0&&r.a.createElement("h2",null,"Projects:"),e.projects.map(function(e){return r.a.createElement("div",{key:e._id},r.a.createElement(m.b,{to:"/projects/".concat(e._id)},r.a.createElement("h3",null,e.title)))}))},x=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={projects:[]},a.getData=function(){f.a.get("/api/projects").then(function(e){a.setState({projects:e.data})}).catch(function(e){console.log(e)})},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(D,{refreshList:this.getData}),r.a.createElement(F,{projects:this.state.projects}))}}]),t}(n.Component),L=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={title:a.props.project.title,description:a.props.project.description},a.handleSubmit=function(e){e.preventDefault();var t=a.state.title,n=a.state.description;f.a.put("/api/projects/".concat(a.props.project._id),{title:t,description:n}).then(function(){a.props.submitEdit()}).catch(function(e){console.log(e)})},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(k.a)({},n,r))},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("hr",null),r.a.createElement("h3",null,"Edit project: "),r.a.createElement(w.a,{onSubmit:this.handleSubmit},r.a.createElement(w.a.Group,null,r.a.createElement(w.a.Label,null,"Title:"),r.a.createElement(w.a.Control,{type:"text",name:"title",value:this.state.title,onChange:this.handleChange})),r.a.createElement(w.a.Group,null,r.a.createElement(w.a.Label,null,"Description:"),r.a.createElement(w.a.Control,{type:"text",name:"description",value:this.state.description,onChange:this.handleChange})),r.a.createElement(S.a,{type:"submit"},"Edit")))}}]),t}(n.Component),A=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={title:"",description:""},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(k.a)({},n,r))},a.handleSubmit=function(e){e.preventDefault();var t=a.state,n=t.title,r=t.description;f.a.post("/api/tasks",{title:n,description:r,projectId:a.props.projectId}).then(function(e){a.props.refreshData(),a.setState({title:"",description:""})}).catch(function(e){console.log(e)})},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("hr",null),r.a.createElement("h3",null,"Add task: "),r.a.createElement(w.a,{onSubmit:this.handleSubmit},r.a.createElement(w.a.Group,null,r.a.createElement(w.a.Label,null,"Title:"),r.a.createElement(w.a.Control,{type:"text",name:"title",value:this.state.title,onChange:this.handleChange})),r.a.createElement(w.a.Group,null,r.a.createElement(w.a.Label,null,"Description:"),r.a.createElement(w.a.Control,{type:"text",name:"description",value:this.state.description,onChange:this.handleChange})),r.a.createElement(S.a,{type:"submit"},"Add")))}}]),t}(n.Component),P=function(e){return r.a.createElement("div",null,e.tasks.length>0&&r.a.createElement("h2",null,"Tasks:"),e.tasks.map(function(e){return r.a.createElement("div",{key:e._id},r.a.createElement(m.b,{to:"/tasks/".concat(e._id)},r.a.createElement("h3",null,e.title)))}))},U=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={title:"",description:"",tasks:[],owner:null,editForm:!1,taskForm:!1},a.getProject=function(){var e=a.props.match.params.id;return f.a.get("/api/projects/".concat(e)).then(function(e){var t=e.data,n=t.title,r=t.description,o=t.tasks,c=t.owner;a.setState({title:n,description:r,tasks:o,owner:c})}).catch(function(e){console.log(e)})},a.submitEdit=function(){a.getProject().then(function(){a.toggleEdit()})},a.toggleEdit=function(){a.setState({editForm:!a.state.editForm})},a.toggleTaskForm=function(){a.setState({taskForm:!a.state.taskForm})},a.handleDelete=function(){var e=a.props.match.params.id;f.a.delete("/api/projects/".concat(e)).then(function(){a.props.history.push("/projects")}).catch(function(e){console.log(e)})},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getProject()}},{key:"render",value:function(){var e={title:this.state.title,description:this.state.description,_id:this.props.match.params.id};return r.a.createElement("div",null,r.a.createElement("h1",null,this.state.title),r.a.createElement("p",null,this.state.description),this.props.user&&this.props.user._id===this.state.owner&&r.a.createElement(r.a.Fragment,null,r.a.createElement(S.a,{onClick:this.toggleEdit},"Show Edit"),r.a.createElement(S.a,{onClick:this.toggleTaskForm},"Add Task"),r.a.createElement(S.a,{variant:"danger",onClick:this.handleDelete},"Delete")),this.state.editForm&&r.a.createElement(L,Object.assign({project:e,submitEdit:this.submitEdit},this.props)),this.state.taskForm&&r.a.createElement(A,{projectId:e._id,refreshData:this.getProject}),r.a.createElement(P,{tasks:this.state.tasks}))}}]),t}(n.Component),G=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={title:"",description:"",project:""},a.getTask=function(){var e=a.props.match.params.id;return f.a.get("/api/tasks/".concat(e)).then(function(e){var t=e.data,n=t.title,r=t.description,o=t.project;a.setState({title:n,description:r,project:o})}).catch(function(e){console.log(e)})},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getTask()}},{key:"render",value:function(){var e={title:this.state.title,description:this.state.description,project:this.state.project};return r.a.createElement("div",null,r.a.createElement("h1",null,this.state.title),r.a.createElement("p",null,this.state.description),r.a.createElement(m.b,{to:"/projects/".concat(e.project)},"Back to project"))}}]),t}(n.Component),T=a(100),B=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:"",error:""},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(k.a)({},n,r))},a.handleSubmit=function(e){var t=a.state,n=t.username,r=t.password;e.preventDefault(),b(n,r).then(function(e){a.props.setUser(e),a.props.history.push("/projects")}).catch(function(e){a.setState({error:e.response.data.message})})},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(w.a,{onSubmit:this.handleSubmit},r.a.createElement(w.a.Group,null,r.a.createElement(w.a.Label,{htmlFor:"username"},"Username:"),r.a.createElement(w.a.Control,{type:"text",name:"username",id:"username",value:this.state.username,onChange:this.handleChange})),r.a.createElement(w.a.Group,null,r.a.createElement(w.a.Label,{htmlFor:"password"},"Password:"),r.a.createElement(w.a.Control,{type:"password",name:"password",id:"password",value:this.state.password,onChange:this.handleChange})),this.state.error&&r.a.createElement(T.a,{variant:"warning"},this.state.error),r.a.createElement(S.a,{type:"submit"},"Signup"))}}]),t}(n.Component),_=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:"",error:""},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(k.a)({},n,r))},a.handleSubmit=function(e){var t=a.state,n=t.username,r=t.password;e.preventDefault(),g(n,r).then(function(e){a.props.setUser(e),a.props.history.push("/projects")}).catch(function(e){a.setState({error:e.response.data.message})})},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(w.a,{onSubmit:this.handleSubmit},r.a.createElement(w.a.Group,null,r.a.createElement(w.a.Label,{htmlFor:"username"},"Username:"),r.a.createElement(w.a.Control,{type:"text",name:"username",id:"username",value:this.state.username,onChange:this.handleChange})),r.a.createElement(w.a.Group,null,r.a.createElement(w.a.Label,{htmlFor:"password"},"Password:"),r.a.createElement(w.a.Control,{type:"password",name:"password",id:"password",value:this.state.password,onChange:this.handleChange})),this.state.error&&r.a.createElement(T.a,{variant:"warning"},this.state.error),r.a.createElement(S.a,{type:"submit"},"Login"))}}]),t}(n.Component),I=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={user:a.props.user},a.setUser=function(e){a.setState({user:e})},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(v,{setUser:this.setUser,user:this.state.user}),r.a.createElement(h.d,null,r.a.createElement(h.b,{exact:!0,path:"/",component:C}),r.a.createElement(O,{exact:!0,path:"/signup",redirectPath:"/projects",setUser:this.setUser,user:!this.state.user,component:B}),r.a.createElement(O,{exact:!0,path:"/login",redirectPath:"/projects",setUser:this.setUser,user:!this.state.user,component:_}),r.a.createElement(O,{exact:!0,path:"/projects",redirectPath:"/login",user:this.state.user,component:x}),r.a.createElement(O,{exact:!0,path:"/projects/:id",user:this.state.user,component:U}),r.a.createElement(O,{exact:!0,path:"/tasks/:id",user:this.state.user,component:G})))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));f.a.get("/api/auth/loggedin").then(function(e){c.a.render(r.a.createElement(m.a,null,r.a.createElement(I,{user:e.data})),document.getElementById("root"))}).catch(function(e){console.log(e)}),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[56,1,2]]]);
//# sourceMappingURL=main.5e26fa3d.chunk.js.map