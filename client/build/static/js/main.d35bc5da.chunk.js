(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{102:function(e,t,a){},103:function(e,t,a){},155:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(29),l=a.n(o),s=(a(102),a(4)),c=a(3),i=a(9),m=a(7),u=a(10),p=a(34),h=(a(103),a(104),a(105),a(18)),d=a(160),g=a(159),E=a(15),f=a.n(E),y=function(e,t){return f.a.post("/api/auth/login",{username:e,password:t}).then(function(e){return e.data})},b=function(e,t,a,n,r,o,l,s,c){return f.a.post("/api/auth/signup",{username:e,password:t,email:a,phoneNumber:n,street:r,postalCode:o,city:l,country:s,imageUrl:c}).then(function(e){return e.data})},v=function(e,t,a,n,r,o,l){return f.a.put("/api/auth/editprofile",{email:e,phoneNumber:t,street:a,postalCode:n,city:r,country:o,imageUrl:l}).then(function(e){return e.data})},C=a(50),k=function(e){f.a.post("/api/auth/logout").then(function(e){return e.data}).then(function(){e.setUser(null)})},j=function(e){return r.a.createElement(d.a,{style:{backgroundColor:"#000",zIndex:99,borderBottom:"2px solid #E7E7E7"}},r.a.createElement(h.Link,{to:"/",style:{textDecoration:"none"}},r.a.createElement(d.a.Brand,null,r.a.createElement("img",{src:"/Background.png",width:"35",height:"35",className:"d-inline-block align-top",alt:"KarmaApp logo"}))),e.user?r.a.createElement("h3",{style:{color:"orange",marginTop:"10px"}},e.user.karma):r.a.createElement(r.a.Fragment,null),e.user?r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{className:"ml-auto main-navbar",title:"Logout"},r.a.createElement(C.LinkContainer,{to:"/"},r.a.createElement(g.a.Item,{onClick:function(){return k(e)},className:"nav-dropdown"},"Logout")))):r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{className:"ml-auto main-navbar",title:"Login/Signup"},r.a.createElement(C.LinkContainer,{to:"/login"},r.a.createElement(g.a.Item,{className:"nav-dropdown"},"Login")),r.a.createElement(C.LinkContainer,{to:"/signup"},r.a.createElement(g.a.Item,{className:"nav-dropdown"},"Signup")))))},O=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).confirmApplicant=function(e){var t=a.props.paramsId.id;f.a.put("/api/postings/".concat(t),{postId:t,applicantId:e}).then(function(e){a.props.handleConfirm(e.data.posting.otherParty)}).catch(function(e){console.log(e)})},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;console.log(this.props.details);var t=this.props.details,a=t.title,n=t.description,o=t.karma,l=t.creator,s=this.props.details.applicant.map(function(t,a){return r.a.createElement(r.a.Fragment,null,e.props.details.otherParty.length<=0&&e.props.details.creator._id===e.props.user._id&&r.a.createElement("div",null,r.a.createElement("h3",{key:t._id},"Applicant for the Posting: ",t.facebookName,t.username),r.a.createElement("button",{className:"example_c",onClick:function(){e.confirmApplicant(t._id)}},"Confirm")))});return r.a.createElement("div",{className:"post-card"},r.a.createElement("div",{style:{backgroundColor:"black"}},r.a.createElement("img",{src:"/karmalogo.png",width:"45",height:"45",style:{margin:"10"},className:"d-inline-block  align-top",alt:"KarmaApp logo"}),r.a.createElement("span",{style:{color:"orange",margin:"auto 0"}},o)),r.a.createElement("h3",null,a),r.a.createElement("p",null,n),r.a.createElement("p",null,"Created By: ",l.facebookName),s,this.props.details.otherParty.length>=1&&this.props.details.creator._id===this.props.user._id&&!this.props.details.isDone&&r.a.createElement("div",{className:"turkey"},this.props.details.otherParty[0].username," is helping you :)"),this.props.details.isDone&&(this.props.details.otherParty[0]._id===this.props.user._id||this.props.details.creator._id===this.props.user._id)&&r.a.createElement("div",{className:"turkey"},"Job is done"))}}]),t}(r.a.Component),w=function(e){var t=e.message.message,a=e.message.user.username;console.log(e.message.user.imageUrl);return r.a.createElement("div",{className:"msg-card",style:{display:"Flex",justifyContent:"space-between"}},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-3"},r.a.createElement("img",{src:e.message.user.imageUrl,width:"50",height:"50",alt:""}),r.a.createElement("h5",{style:{fontWeight:"700"}},r.a.createElement("span",{style:{margin:"0 auto",color:"orange"}},a))),r.a.createElement("div",{className:"col-9 col-9-emergency",style:{textAlign:"left"}},r.a.createElement("p",null,t))))},N=a(1),x=a(158),S=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={message:""},a.handleSubmit=function(e){e.preventDefault(),console.log(a.props.id.id);var t=a.props.user._id,n=a.props.id.id,r=a.state.message;console.log("The message is ".concat(r," The taskID is ").concat(n," and the userId is ").concat(t)),f.a.post("/api/postings/".concat(n,"/message"),{userId:t,message:r}).then(function(e){a.props.refreshData(),a.setState({message:""})}).catch(function(e){return console.log(e)})},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(N.a)({},n,r))},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{class:"msgsend-card"},r.a.createElement(x.a,{onSubmit:this.handleSubmit},r.a.createElement(x.a.Group,{controlId:"exampleForm.ControlTextarea1"},r.a.createElement(x.a.Label,null,"Message Field"),r.a.createElement(x.a.Control,{as:"textarea",rows:"3",type:"text",name:"message",value:this.state.message,onChange:this.handleChange})),"\u200b",r.a.createElement("button",{className:"example_c",type:"submit"},"Send")))}}]),t}(n.Component),_=function(e){var t=e.data.map(function(e,t){return r.a.createElement(w,{message:e,key:t})});return r.a.createElement("div",null,t,r.a.createElement(S,{refreshData:e.refreshData,id:e.id,user:e.user}))},L=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={title:"",description:"",karma:0,street:"",zip:"",city:"",creator:{},applicant:[],message:[],otherParty:[],isDone:!1},a.getPosting=function(){var e=a.props.match.params.id;return f.a.get("/api/postings/".concat(e)).then(function(e){var t=e.data,n=t.title,r=t.description,o=t.karma,l=t.street,s=t.zip,c=t.city,i=t.applicant,m=t.creator,u=t.message,p=t.otherParty,h=t.isDone;a.setState({title:n,description:r,karma:o,street:l,zip:s,creator:m,city:c,applicant:i,message:u,otherParty:p,isDone:h})}).catch(function(e){console.log(e)})},a.applyPosting=function(){var e=a.props.match.params.id,t=a.props.user._id;return f.a.post("/api/postings/".concat(e,"/apply"),{_id:t}).then(function(e){a.setState({applicant:e.data.applicant})}).catch(function(e){console.log(e)})},a.handleConfirm=function(e){a.setState({otherParty:e})},a.triggerPayOut=function(){var e=a.props.match.params.id,t=a.state.karma,n=a.state.otherParty[0]._id;return console.log(e,t,n),f.a.put("/api/postings/".concat(e,"/pay"),{id:e,karma:t,userId:n}).then(function(e){a.setState({isDone:e.data.isDone})}).catch(function(e){console.log(e)})},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.getPosting()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(O,{paramsId:this.props.match.params,details:this.state,user:this.props.user,handleConfirm:this.handleConfirm}),r.a.createElement(_,{id:this.props.match.params,user:this.props.user,data:this.state.message,refreshData:this.getPosting}),!this.state.applicant.find(function(t){return t._id===e.props.user._id})&&this.props.user._id!==this.state.creator._id&&r.a.createElement("button",{className:"example_c",onClick:this.applyPosting},"Apply"),this.props.user._id===this.state.creator._id&&this.state.otherParty.length>=1&&!1===this.state.isDone&&r.a.createElement("button",{className:"example_c",onClick:this.triggerPayOut},"Mark as Done"))}}]),t}(n.Component),P=a(52),U=function(e){var t=e.posting,a=t.title,n=t.karma,o=t._id,l=t.description,s=t.creator,c=t.address;return console.log("konsol",e),r.a.createElement("div",{className:e.className},r.a.createElement("div",{style:{backgroundColor:"black"}},r.a.createElement("img",{src:"/karmalogo.png",width:"45",height:"45",style:{margin:"10"},className:"d-inline-block align-top",alt:"KarmaApp logo"}),r.a.createElement("span",{style:{color:"orange",margin:"auto 0"}},n)),r.a.createElement("p",{style:{marginTop:"10px"}},r.a.createElement("strong",null,"".concat(a.split(" ").slice(0,4).join(" ")))),r.a.createElement("p",{style:{marginTop:"0",marginBottom:"0"}},'"'.concat(l.substring(0,40),'..."')),r.a.createElement("p",null,r.a.createElement("strong",null,s.username),"  (".concat(c.city,")")),r.a.createElement(h.Link,{to:"/market/".concat(o)},r.a.createElement("div",{class:"button_cont",align:"center"},r.a.createElement("a",{class:"example_b",href:"add-website-here",target:"_blank",rel:"nofollow noopener"},"View"))))},D=function(e){return r.a.createElement(r.a.Fragment,null,e.search?e.postings.filter(function(t){return t.description.toLowerCase().includes(e.search.toLowerCase())}).map(function(t){return r.a.createElement(U,{className:e.className,posting:t,key:t._id})}):e.postings.map(function(e){return r.a.createElement(U,{className:"card card-xt",posting:e,key:e._id})}))},A=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).handleSearch=function(e){var t=e.target.value,n=e.target.name;a.props.onSearchChange(n,t)},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{id:"searchcomp"},r.a.createElement("h1",null,"Marketplace"),r.a.createElement("input",{name:"searchInput",type:"text",value:this.props.searchInput,onChange:this.handleSearch,className:"searchInput",placeholder:"search the marketplace"}),r.a.createElement("button",{size:"sm",className:"example_c",onClick:this.props.sortByName},"Sort Name"),r.a.createElement("button",{size:"sm",className:"example_c",onClick:this.props.sortByKarma},"Sort Karma"))}}]),t}(r.a.Component),F=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={postings:[],searchInput:""},a.getData=function(){f.a.get("/api/postings").then(function(e){a.setState({postings:e.data})}).catch(function(e){console.log(e)})},a.onSearchChange=function(e,t){a.setState(Object(N.a)({},e,t));var n=a.state.searchInput,r=Object(P.a)(a.state.postings);r=r.filter(function(e){return e.title.toLowerCase().includes(n.toLowerCase())}),a.setState({search:t})},a.sortByName=function(){var e=Object(P.a)(a.state.postings).sort(function(e,t){return e.title<t.title?-1:e.title>t.title?1:0});a.setState({postings:e})},a.sortByKarma=function(){var e=Object(P.a)(a.state.postings).sort(function(e,t){return t.karma-e.karma});a.setState({postings:e})},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){return r.a.createElement("div",null,this.state.postings.length?r.a.createElement("div",null,r.a.createElement(A,{onSearchChange:this.onSearchChange,searchInput:this.state.searchInput,checked:this.state.checked,sortByName:this.sortByName,sortByKarma:this.sortByKarma}),r.a.createElement("div",{className:"flex-container-market"},r.a.createElement(D,{search:this.state.searchInput,postings:this.state.postings,className:"card wrap market-card"}))):r.a.createElement("h1",null,"There are no postings in your area"))}}]),t}(n.Component),I=a(161),z=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:"",error:""},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(N.a)({},n,r))},a.handleSubmit=function(e){var t=a.state,n=t.username,r=t.password;t.imageUrl;e.preventDefault(),a.props.history.push({pathname:"/signup/info",data:{username:n,password:r}})},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"profile-card"},r.a.createElement(x.a,{onSubmit:this.handleSubmit},r.a.createElement(x.a.Group,null,r.a.createElement(x.a.Label,{htmlFor:"username"},"Username:"),r.a.createElement(x.a.Control,{type:"text",name:"username",id:"username",value:this.state.username,onChange:this.handleChange})),r.a.createElement(x.a.Group,null,r.a.createElement(x.a.Label,{htmlFor:"password"},"Password:"),r.a.createElement(x.a.Control,{type:"password",name:"password",id:"password",value:this.state.password,onChange:this.handleChange})),this.state.error&&r.a.createElement(I.a,{variant:"warning"},this.state.error),r.a.createElement("button",{className:"example_c",type:"submit"},"Signup")))}}]),t}(n.Component),G=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:"",error:""},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(N.a)({},n,r))},a.handleSubmit=function(e){var t=a.state,n=t.username,r=t.password;e.preventDefault(),y(n,r).then(function(e){a.props.setUser(e),a.props.history.push("/market")}).catch(function(e){console.log(e),a.setState({error:e.response.data.message})})},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:" profile-card"},r.a.createElement(x.a,{onSubmit:this.handleSubmit},r.a.createElement(x.a.Group,null,r.a.createElement(x.a.Label,{htmlFor:"username"},"Username:"),r.a.createElement(x.a.Control,{type:"text",name:"username",id:"username",value:this.state.username,onChange:this.handleChange})),r.a.createElement(x.a.Group,null,r.a.createElement(x.a.Label,{htmlFor:"password"},"Password:"),r.a.createElement(x.a.Control,{type:"password",name:"password",id:"password",value:this.state.password,onChange:this.handleChange})),this.state.error&&r.a.createElement(I.a,{variant:"warning"},this.state.error),r.a.createElement("button",{className:"example_c",type:"submit"},"Login")))}}]),t}(n.Component),B=a(162),M={height:"60vh",backgroundColor:"black",paddingTop:"75px",paddingBottom:"75px"},T={color:"white",fontSize:"6rem"},K=function(){return r.a.createElement("div",null,r.a.createElement(B.a,null,r.a.createElement(B.a.Item,null,r.a.createElement("div",{style:M},r.a.createElement("i",{style:T,className:"fas fa-city"})),r.a.createElement(B.a.Caption,null,r.a.createElement("h3",null,"Join the community"),r.a.createElement("p",null,"Register now to take part in this amazing commnity of people!"))),r.a.createElement(B.a.Item,null,r.a.createElement("div",{style:M},r.a.createElement("i",{style:T,className:"fas fa-hands-helping"})),r.a.createElement(B.a.Caption,null,r.a.createElement("h3",null,"Discover Marketplace"),r.a.createElement("p",null,"Discover our marketplace where you can just hangout to collect karma or get your tasks done by using your karmapoints!"))),r.a.createElement(B.a.Item,null,r.a.createElement("div",{style:M},r.a.createElement("i",{style:T,className:"fas fa-comments"})),r.a.createElement(B.a.Caption,null,r.a.createElement("h3",null,"Post and comments"),r.a.createElement("p",null,"Start posting immediatly and enjoy the collecting and spending karma points!")))))},J=a(87),W=a.n(J),Z=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={name:"",gender:"",age:""},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=this.props.steps,t=e.name,a=e.gender,n=e.age;this.setState({name:t,gender:a,age:n})}},{key:"render",value:function(){var e=this.state,t=e.name,a=e.gender,n=e.age;return r.a.createElement("div",{style:{width:"100%"}},r.a.createElement("h3",null,"Summary"),r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"Name"),r.a.createElement("td",null,t.value)),r.a.createElement("tr",null,r.a.createElement("td",null,"Gender"),r.a.createElement("td",null,a.value)),r.a.createElement("tr",null,r.a.createElement("td",null,"Age"),r.a.createElement("td",null,n.value)))))}}]),t}(n.Component);Z.defaultProps={steps:void 0};n.Component,n.Component;var H=a(90),Y=a.n(H),V=function(){return r.a.createElement("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:25}},r.a.createElement(Y.a,{params:{particles:{number:{value:80,density:{enable:!0,value_area:800}},color:{value:"#FFA323"},shape:{type:"circle",stroke:{width:0,color:"FFA323"},polygon:{nb_sides:5},image:{src:"img/github.svg",width:100,height:100}},opacity:{value:.5,random:!1,anim:{enable:!1,speed:1,opacity_min:.1,sync:!1}},size:{value:3,random:!0,anim:{enable:!1,speed:40,size_min:.1,sync:!1}},line_linked:{enable:!1,distance:150,color:"#FFA323",opacity:.4,width:1},move:{enable:!0,speed:6,direction:"none",random:!1,straight:!1,out_mode:"out",bounce:!1,attract:{enable:!1,rotateX:600,rotateY:1200}}},interactivity:{detect_on:"canvas",events:{onhover:{enable:!1,mode:"repulse"},onclick:{enable:!0,mode:"push"},resize:!0},modes:{grab:{distance:400,line_linked:{opacity:1}},bubble:{distance:600,size:80,duration:2,opacity:8,speed:3},repulse:{distance:200,duration:.4},push:{particles_nb:4},remove:{particles_nb:2}}},retina_detect:!0}}))},$=function(){return r.a.createElement("div",null,r.a.createElement(V,null),r.a.createElement("div",{style:{fontSize:"3rem",padding:"30px"},className:"landingOne"},r.a.createElement("div",{className:"landingText"},r.a.createElement("img",{className:"scale-up-center landing-logo",width:"150px",src:"/Background.png",alt:""}))),r.a.createElement("div",null,r.a.createElement(K,null)))},q={backgroundColor:"rgba(0, 0, 0, 1)",color:"white",borderTop:"2px solid #E7E7E7",textAlign:"center",padding:"20px",position:"fixed",left:"0",bottom:"0",height:"60px",width:"100%",zIndex:"99"},R={display:"block",padding:"20px",height:"60px",width:"100%"},X=function(){return r.a.createElement("div",null,r.a.createElement("div",{style:R}),r.a.createElement("div",{className:"footer-icons-wrapper",style:q},r.a.createElement(h.Link,{style:{color:"white"},to:"/dashboard"},r.a.createElement("i",{className:"fas footer-icons fa-home"})),r.a.createElement(h.Link,{style:{color:"white"},to:"/market"},r.a.createElement("i",{className:"fas footer-icons fa-store"})),r.a.createElement(h.Link,{style:{color:"white"},to:"/market/post"},r.a.createElement("i",{className:"far footer-icons fa-plus-square"})),r.a.createElement(h.Link,{style:{color:"white"},to:"/map"},r.a.createElement("i",{className:"fas footer-icons fa-map"})),r.a.createElement(h.Link,{style:{color:"white"},to:"/profile"},r.a.createElement("i",{className:"fas footer-icons fa-user"}))))},Q=a(91),ee=function(e){var t=e.component,a=e.user,n=e.path,o=e.redirectPath,l=void 0===o?"/":o,s=Object(Q.a)(e,["component","user","path","redirectPath"]);return r.a.createElement(p.d,{path:n,render:function(e){return a?r.a.createElement(t,Object.assign({},e,s,{user:a})):r.a.createElement(p.c,{to:l})}})},te=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={title:"",description:"",karma:0,selectedLocation:"current",street:"",zip:"",city:"",latitude:0,longitude:0,message:[],error:""},a.handleSubmit=function(e){e.preventDefault();var t=a.props.user,n=a.state,r=n.title,o=n.description,l=n.karma,s=n.selectedLocation,c=n.street,i=n.zip,m=n.city,u=n.latitude,p=n.longitude;f.a.post("/api/postings",{user:t,title:r,description:o,karma:l,selectedLocation:s,street:c,zip:i,city:m,latitude:u,longitude:p}).then(function(e){console.log(e),a.props.setUser(e.data),a.setState({title:"",description:"",karma:0,selectedLocation:"current",street:"",zip:"",city:"",error:""})}).catch(function(e){a.setState({error:e.response.data.message})})},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(N.a)({},n,r))},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;navigator.geolocation.getCurrentPosition(function(t){var a=t.coords.latitude,n=t.coords.longitude;e.setState({latitude:a,longitude:n})})}},{key:"render",value:function(){return r.a.createElement("div",{className:"post-card"},r.a.createElement("div",{style:{backgroundColor:"black"}},r.a.createElement("img",{src:"/karmalogo.png",width:"45",height:"45",style:{margin:"10"},className:"d-inline-block align-top",alt:"KarmaApp logo"}),r.a.createElement("span",{style:{color:"orange",margin:"auto 0"}},this.state.karma)),r.a.createElement(x.a,{onSubmit:this.handleSubmit},r.a.createElement(x.a.Group,null,r.a.createElement(x.a.Label,null,"Title:"),r.a.createElement(x.a.Control,{type:"text",name:"title",value:this.state.title,onChange:this.handleChange})),r.a.createElement(x.a.Group,null,r.a.createElement(x.a.Label,null,"Description:"),r.a.createElement(x.a.Control,{type:"text",name:"description",value:this.state.description,onChange:this.handleChange})),"\u200b",r.a.createElement(x.a.Group,null,r.a.createElement(x.a.Label,null,"Karma:"),r.a.createElement(x.a.Control,{type:"number",name:"karma",value:this.state.karma,onChange:this.handleChange})),r.a.createElement(x.a.Group,null,r.a.createElement(x.a.Check,{type:"radio",id:"user-location",label:"current location",name:"selectedLocation",value:"current",checked:"current"===this.state.selectedLocation,onChange:this.handleChange}),r.a.createElement(x.a.Check,{type:"radio",id:"home-location",label:"home address",name:"selectedLocation",value:"home",checked:"home"===this.state.selectedLocation,onChange:this.handleChange}),r.a.createElement(x.a.Check,{type:"radio",id:"other-location",label:"other",name:"selectedLocation",value:"other",checked:"other"===this.state.selectedLocation,onChange:this.handleChange})),"\u200b","other"===this.state.selectedLocation?r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a.Group,null,r.a.createElement(x.a.Label,null,"Street:"),r.a.createElement(x.a.Control,{type:"text",name:"street",value:this.state.street,onChange:this.handleChange})),r.a.createElement(x.a.Group,null,r.a.createElement(x.a.Label,null,"Zip:"),r.a.createElement(x.a.Control,{type:"text",name:"zip",value:this.state.zip,onChange:this.handleChange})),r.a.createElement(x.a.Group,null,r.a.createElement(x.a.Label,null,"City:"),r.a.createElement(x.a.Control,{type:"text",name:"city",value:this.state.city,onChange:this.handleChange}))):r.a.createElement(r.a.Fragment,null),this.state.error&&r.a.createElement(I.a,{variant:"warning"},this.state.error),"\u200b",r.a.createElement("button",{className:"example_c",type:"submit"},"Add")))}}]),t}(n.Component),ae=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(te,{user:this.props.user,setUser:this.props.setUser}))}}]),t}(n.Component),ne=a(14),re=a(46);function oe(){var e=Object(n.useState)({latitude:45.4211,longtitude:-75.6903,zoom:10,width:"100vw",height:"100vh"}),t=Object(ne.a)(e,2),a=t[0],o=t[1],l=Object(n.useState)(null),s=Object(ne.a)(l,2),c=s[0],i=s[1],m=Object(n.useState)([]),u=Object(ne.a)(m,2),p=u[0],d=u[1];return Object(n.useEffect)(function(){setTimeout(function(){console.log("click"),document.querySelector(".mapboxgl-ctrl-icon").click()},1e3),setTimeout(function(){navigator.geolocation.getCurrentPosition(function(e){console.log("_locateUser",e.coords.latitude),console.log("_locateUser",e.coords.longitude)})},1e3);var e=function(e){"Escape"===e.key&&i(null)};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}},[]),Object(n.useEffect)(function(){f.a.get("/api/postings").then(function(e){var t=e.data;d(t),console.log("task data",t)})},[]),r.a.createElement("div",null,r.a.createElement(re.d,Object.assign({},a,{mapboxApiAccessToken:"pk.eyJ1IjoiYWxpY2FudG9ydW4iLCJhIjoiY2p4cHU0M3NwMDJ1aDNjcjNsNjNsazM0ciJ9.sriMIOay4kEmZcUcJHP-Pw",onViewportChange:function(e){o(e)},mapStyle:"mapbox://styles/alicantorun/cjyk4o8nx0ljn1cpj9cx1tacu"}),p.map(function(e,t){return r.a.createElement(re.b,{latitude:e.location.coordinates[0],longitude:e.location.coordinates[1],offsetLeft:-20,offsetTop:-10,key:t},r.a.createElement("i",{onClick:function(t){t.preventDefault(),i(e)},className:"fas fa-map-marker-alt"}))}),c?r.a.createElement(re.c,{latitude:c.location.coordinates[0],longitude:c.location.coordinates[1],onClose:function(e){i(null)}},r.a.createElement("div",{className:"card card-xt card-map",style:{width:"200px",height:"125px"}},r.a.createElement("div",{style:{backgroundColor:"black"}},r.a.createElement("img",{src:"/karmalogo.png",width:"45",height:"45",style:{margin:"10"},className:"d-inline-block align-top",alt:"KarmaApp logo"}),r.a.createElement("span",{style:{color:"orange",margin:"auto 0"}},c.karma)),r.a.createElement("p",null,c.description),r.a.createElement("p",null),r.a.createElement(h.Link,{to:"/market/".concat(c._id)},r.a.createElement("div",{class:"button_cont",align:"center"},r.a.createElement("a",{class:"example_b",href:"add-website-here",target:"_blank",rel:"nofollow noopener"},"View"))))):null,r.a.createElement(re.a,{style:{display:"none"},id:"control-id",positionOptions:{enableHighAccuracy:!0},trackUserLocation:!0})))}var le=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(oe,null))}}]),t}(n.Component),se=a(93),ce=a.n(se),ie=function(e){var t=Object(n.useState)(""),a=Object(ne.a)(t,2),o=a[0],l=a[1],s=window.cloudinary.createUploadWidget({cloudName:"dxzzpf0xm",uploadPreset:"up2UserImages"},function(e,t){if(!e&&t&&"success"===t.event){console.log("Done! Here is the image info: ",t.info.url);var a=t.info.url;l(a)}});return Object(n.useEffect)(function(){e.handleCloudinary(o)},[o]),r.a.createElement("div",{id:"photo-form-container"},r.a.createElement(ce.a,{variant:"dark",onClick:s.open},"Upload Photo"))},me=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={email:a.props.user.email,phoneNumber:a.props.user.phoneNumber,street:a.props.user.address.street,postalCode:a.props.user.address.postalCode,city:a.props.user.address.city,country:a.props.user.address.country,imageUrl:a.props.user.imageUrl,error:""},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(N.a)({},n,r))},a.handleSubmit=function(e){var t=a.state,n=t.email,r=t.phoneNumber,o=t.street,l=t.postalCode,s=t.city,c=t.country,i=t.imageUrl;e.preventDefault(),function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}(n)&&v(n,r,o,l,s,c,i).then(function(e){a.props.setUser(e),a.props.history.push("/profile")}).catch(function(e){console.log(e),a.setState({error:e.response.data.message})})},a.handleCloudinary=function(e){a.setState({imageUrl:e})},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return console.log(this.state.imageUrl),r.a.createElement("div",{className:" profile-card"},r.a.createElement(ie,{handleCloudinary:this.handleCloudinary}),r.a.createElement(x.a,{onSubmit:this.handleSubmit},r.a.createElement(x.a.Group,null,r.a.createElement(x.a.Label,{htmlFor:"email"},"Email:"),r.a.createElement(x.a.Control,{type:"email",name:"email",id:"email",value:this.state.email,onChange:this.handleChange})),r.a.createElement(x.a.Group,null,r.a.createElement(x.a.Label,{htmlFor:"phoneNumber"},"Phone Number:"),r.a.createElement(x.a.Control,{type:"phoneNumber",name:"phoneNumber",id:"phoneNumber",value:this.state.phoneNumber,onChange:this.handleChange})),r.a.createElement(x.a.Group,null,r.a.createElement(x.a.Label,{htmlFor:"street"},"Street:"),r.a.createElement(x.a.Control,{type:"text",name:"street",id:"street",value:this.state.street,onChange:this.handleChange})),r.a.createElement(x.a.Group,null,r.a.createElement(x.a.Label,{htmlFor:"city"},"City:"),r.a.createElement(x.a.Control,{type:"text",name:"city",id:"city",value:this.state.city,onChange:this.handleChange})),r.a.createElement(x.a.Group,null,r.a.createElement(x.a.Label,{htmlFor:"postalCode"},"Postal code:"),r.a.createElement(x.a.Control,{type:"text",name:"postalCode",id:"postalCode",value:this.state.postalCode,onChange:this.handleChange})),r.a.createElement(x.a.Group,null,r.a.createElement(x.a.Label,{htmlFor:"country"},"Country:"),r.a.createElement(x.a.Control,{type:"text",name:"country",id:"country",value:this.state.country,onChange:this.handleChange})),this.state.error&&r.a.createElement(I.a,{variant:"warning"},this.state.error),r.a.createElement("button",{className:"example_c",type:"submit"},"Save Changes")))}}]),t}(n.Component),ue=a(94),pe=a.n(ue),he=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={postings:[],postings_applicant:[]},a.getData=function(){f.a.get("/api/postings?user=".concat(a.props.user._id)).then(function(e){a.setState({postings:e.data.postings,postings_applicant:e.data.postings_applicant})}).catch(function(e){console.log(e)})},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){var e=this.props.user,t=e.email,a=e.phoneNumber,n=e.imageUrl,o=this.props.user.address,l=o.street,s=o.city,c=o.postalCode,i=o.country;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"profile-card"},r.a.createElement(pe.a,{width:"300",rounded:!0,src:n,alt:"user image"}),r.a.createElement("p",null," Email: ",t),r.a.createElement("p",null," Tel.: ",a),r.a.createElement("h2",null,"Address:"),r.a.createElement("p",null,"Street:",l),r.a.createElement("p",null,"City: ",s),r.a.createElement("p",null,"Zip: ",c),r.a.createElement("p",null,"Country: ",i),r.a.createElement(h.Link,{to:"/profile/edit"},r.a.createElement("button",{className:"example_c"},"Edit User Information"))))}}]),t}(r.a.Component),de=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(he,{user:this.props.user}))}}]),t}(n.Component),ge=a(85),Ee=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",phoneNumber:"",street:"",postalCode:"",city:"",country:"",imageUrl:"",error:""},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(N.a)({},n,r))},a.handleSubmit=function(e){var t=a.props.location.data,n=t.username,r=t.password,o=a.state,l=o.email,s=o.phoneNumber,c=o.street,i=o.postalCode,m=o.city,u=o.country,p=o.imageUrl;e.preventDefault(),function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}(l)&&b(n,r,l,s,c,i,m,u,p).then(function(e){a.props.setUser(e),a.props.history.push("/market")}).catch(function(e){a.setState({error:e.response.data.message})})},a.handleCloudinary=function(e){a.setState({imageUrl:e})},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,{onSubmit:this.handleSubmit},r.a.createElement(x.a.Group,null,r.a.createElement(x.a.Label,{htmlFor:"email"},"Email:"),r.a.createElement(x.a.Control,{type:"email",name:"email",id:"email",value:this.state.email,onChange:this.handleChange})),r.a.createElement(x.a.Group,null,r.a.createElement(x.a.Label,{htmlFor:"phoneNumber"},"Phone Number:"),r.a.createElement(x.a.Control,{type:"phoneNumber",name:"phoneNumber",id:"phoneNumber",value:this.state.phoneNumber,onChange:this.handleChange})),r.a.createElement(x.a.Group,null,r.a.createElement(x.a.Label,{htmlFor:"street"},"Street:"),r.a.createElement(x.a.Control,{type:"text",name:"street",id:"street",value:this.state.street,onChange:this.handleChange})),r.a.createElement(x.a.Group,null,r.a.createElement(x.a.Label,{htmlFor:"city"},"City:"),r.a.createElement(x.a.Control,{type:"text",name:"city",id:"city",value:this.state.city,onChange:this.handleChange})),r.a.createElement(x.a.Group,null,r.a.createElement(x.a.Label,{htmlFor:"postalCode"},"Postal code:"),r.a.createElement(x.a.Control,{type:"text",name:"postalCode",id:"postalCode",value:this.state.postalCode,onChange:this.handleChange})),r.a.createElement(x.a.Group,null,r.a.createElement(x.a.Label,{htmlFor:"country"},"Country:"),r.a.createElement(x.a.Control,{type:"text",name:"country",id:"country",value:this.state.country,onChange:this.handleChange})),this.state.error&&r.a.createElement(I.a,{variant:"warning"},this.state.error),r.a.createElement(ge.a,{type:"submit"},"Save Changes")),r.a.createElement(ie,{handleCloudinary:this.handleCloudinary}))}}]),t}(n.Component),fe=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={postings:[],postings_applicant:[],postings_otherParty:[],postings_history:[]},a.getData=function(){f.a.get("/api/postings?user=".concat(a.props.user._id)).then(function(e){a.setState({postings:e.data.postings,postings_applicant:e.data.postings_applicant,postings_otherParty:e.data.postings_otherParty,postings_history:e.data.postings_done})}).catch(function(e){console.log(e)})},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"My Postings"),r.a.createElement("div",{className:"scrolling-wrapper-flexbox"},r.a.createElement(D,{className:"card",postings:this.state.postings})),r.a.createElement("h1",null,"Postings I'm Handling"),r.a.createElement("div",{className:"scrolling-wrapper-flexbox"},r.a.createElement(D,{className:"card",postings:this.state.postings_otherParty})),r.a.createElement("h1",null,"My past transcactions"),r.a.createElement("div",{className:"scrolling-wrapper-flexbox"},r.a.createElement(D,{className:"card",postings:this.state.postings_history})))}}]),t}(n.Component),ye=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={user:a.props.user},a.setUser=function(e){a.setState({user:e})},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(j,{setUser:this.setUser,user:this.state.user}),r.a.createElement(p.g,null,r.a.createElement(p.d,{exact:!0,path:"/",component:$}),r.a.createElement(ee,{exact:!0,path:"/signup",redirectPath:"/market",user:!this.state.user,component:z}),r.a.createElement(ee,{exact:!0,path:"/signup/info",redirectPath:"/market",setUser:this.setUser,user:!this.state.user,component:Ee}),r.a.createElement(ee,{exact:!0,path:"/login",redirectPath:"/market",setUser:this.setUser,user:!this.state.user,component:G}),r.a.createElement(ee,{exact:!0,path:"/profile/edit",redirectPath:"/login",setUser:this.setUser,user:this.state.user,component:me}),r.a.createElement(ee,{exact:!0,path:"/market",redirectPath:"/login",user:this.state.user,component:F}),r.a.createElement(ee,{exact:!0,path:"/market/post",redirectPath:"/login",user:this.state.user,setUser:this.setUser,component:ae}),r.a.createElement(ee,{exact:!0,path:"/market/:id",user:this.state.user,component:L}),r.a.createElement(ee,{exact:!0,path:"/profile",user:this.state.user,component:de}),r.a.createElement(ee,{exact:!0,path:"/map/",user:this.state.user,component:le}),r.a.createElement(ee,{exact:!0,path:"/dashboard",user:this.state.user,component:fe}),r.a.createElement(p.d,{render:function(){return r.a.createElement("h2",null,"404 Page not found")}})),r.a.createElement(X,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));f.a.get("/api/auth/loggedin").then(function(e){l.a.render(r.a.createElement(h.BrowserRouter,null,r.a.createElement(ye,{user:e.data})),document.getElementById("root"))}).catch(function(e){console.log(e)}),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},97:function(e,t,a){e.exports=a(155)}},[[97,1,2]]]);
//# sourceMappingURL=main.d35bc5da.chunk.js.map